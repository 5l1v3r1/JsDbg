<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Display Tree</title>
    <script type="text/javascript" src="/jsdbg/loader.js"></script>
    <script type="text/javascript">
        Loader.OnPageReady(function() {
            var refresh = TreeInspector.Initialize(
                DisplayTree.GetRoots, 
                DisplayTree.Tree, 
                DisplayTree.Renderer, 
                DisplayTree.InterpretAddress,
                DisplayTree.DefaultTypes,
                document.body
            );

            var toolbar = document.querySelector(".tree-inspector-toolbar");

            var label = document.createElement("label");
            var uiThreadCheckbox = document.createElement("input");
            uiThreadCheckbox.type = "checkbox";
            uiThreadCheckbox.checked = true;
            uiThreadCheckbox.addEventListener("change", function () {
                MSHTML.SetCurrentPatchVersion(uiThreadCheckbox.checked ? Infinity : 0);
                refresh();
            })
            toolbar.appendChild(document.createTextNode(" "));
            toolbar.appendChild(label);
            label.appendChild(uiThreadCheckbox);
            label.appendChild(document.createTextNode("UI Thread"));

        });
    </script>
</head>
<body>
</body>
</html>